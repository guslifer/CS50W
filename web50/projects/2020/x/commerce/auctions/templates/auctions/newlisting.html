{% extends 'auctions/layout.html' %}
{%load static %}

{%block body%}
<div class = "container">
  {%if user.is_authenticated%}
    <div class="row justify-content-center mt-5">
        <h5> Creat a New Listing! </h5>
    </div>
      <form action="{% url 'auctions:newlisting' %}" method="post">
        {% csrf_token %}
      <div class = "row justify-content-start ">
          <div class="col-4 mt-3">
              <div class="mb-1">
                <label for = "product_name"> Product's name</label>
                <input class="form-control" name= "product_name" id = "product_name" type="text" placeholder="Name" aria-label="default input example" required>
              </div>
                <div class="mb-1 mt-2">
                  <label for = "img_url"> Image URL </label>
                  <input class="form-control" name = "img_url" id = "img_url" type="url" placeholder="Image URL" aria-label="default input example" >
                </div>

                <div class="mb-1 mt-2">
                  <label for = "categories">Select a Category</label>
                  <select class="form-select" aria-label="Default select example" id="categories" name = "category" required>
                    <option value="">None</option>
                    {% for category in categories%}
                    <option value= {{category.category}}>{{category.category}}</option>
                    {%endfor%}
                  </select>
                </div>
            </div>

          <div class="col-6 mt-3 ms-2">
            <div class="mb-1">
              <label for = "description"> Product's Description</label>
              <textarea class="form-control" name="description" id="description" rows="7" required></textarea >          
            </div>
          </div>
        </div>

        <div class="row align-items-end justify-content-start ">
          <div class="col-4 mb-5">
            <label for = "base_price"> Base Price (U$)</label>
            <input class="form-control" name = "base_price" id = "base_price" type="number" min="0.01" step="0.01" aria-label="default input example" required>
          </div>
          <div class="col-4 mb-5 ms-2">
            <button class="btn btn-primary" type="submit">Submit form</button>
          </div>
        </div>
      </form>
    {%else%}
      <div class="row justify-content-center mt-5">
        <a href="{% url "auctions:login" %}" class="white-bold">Log in to to create a new listing</a>
      </div>
    {%endif%}
</div>
{%endblock%}